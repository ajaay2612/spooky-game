{
  "enabled": true,
  "name": "Game Performance Tests",
  "description": "Automatically runs performance tests including FPS benchmarks (targeting 60fps), frame time consistency checks, FPS drop detection during gameplay, scene load time measurements, asset loading performance tracking, shader compilation timing, memory usage monitoring, memory leak detection, and garbage collection spike analysis",
  "version": "1",
  "when": {
    "type": "fileEdited",
    "patterns": [
      "**/*.cs",
      "**/*.unity",
      "**/*.prefab",
      "**/*.shader",
      "**/*.mat",
      "**/*.asset",
      "**/Assets/**/*",
      "**/Scripts/**/*"
    ]
  },
  "then": {
    "type": "askAgent",
    "prompt": "Game files have been modified. First, verify the application is running by checking the /status endpoint (typically at http://localhost:5173/status) for current state and any existing errors. Then execute the comprehensive performance test suite:\n\n1. Run FPS tests targeting 60 frames per second across all gameplay scenarios\n2. Measure frame time consistency to detect stuttering issues\n3. Identify any FPS drops during critical gameplay sequences\n4. Measure scene load times from start to interactive state\n5. Track asset loading performance to optimize resource streaming\n6. Time shader compilation to identify expensive shaders\n7. Monitor memory usage over a complete gameplay session\n8. Detect memory leaks by checking for unbounded memory growth patterns\n9. Watch for garbage collection spikes that cause frame drops\n\nProvide a detailed performance report with metrics, identified issues, and optimization recommendations."
  }
}